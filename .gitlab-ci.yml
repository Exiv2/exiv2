.build_template: &distro_build
  script:
    - python3 ci/test_build.py

fedora_build:
  image: fedora:28
  before_script:
    - dnf -y --refresh install gcc-c++ clang cmake make expat-devel zlib-devel libssh-devel libcurl-devel gtest-devel which
  <<: *distro_build

debian_build:
  image: debian:9
  before_script:
    - apt-get update
    - apt-get install -y cmake g++ clang make python3 libexpat1-dev zlib1g-dev libssh-dev libcurl4-openssl-dev libgtest-dev
  <<: *distro_build
